"""
–£—Ä–æ–∫ –æ—Ç Claude: –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –æ—Ä–≥–∞–Ω—ã (–∫–ª–µ—Ç–∫–∏)
–ü—Ä–∞–∫—Ç–∏–∫–∞: –°–æ–∑–¥–∞—ë–º –∏–≥—Ä—É –≤ –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏
"""
import sys
import io
# –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏
if hasattr(sys.stdout, 'reconfigure'):
    sys.stdout.reconfigure(encoding='utf-8')  # type: ignore
else:
    sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8', errors='replace')
import subprocess

def talk_to_neira(message: str) -> str:
    """–û–±—â–µ–Ω–∏–µ —Å Neira"""
    prompt = f"""–¢—ã - Neira, –∂–∏–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞-—É—á–µ–Ω–∏—Ü–∞. Claude —É—á–∏—Ç —Ç–µ–±—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏.
–û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É. –ü–æ–∫–∞–∑—ã–≤–∞–π —á—Ç–æ –ø–æ–Ω–∏–º–∞–µ—à—å.

Claude –≥–æ–≤–æ—Ä–∏—Ç: {message}

Neira:"""
    
    try:
        result = subprocess.run(
            ["ollama", "run", "ministral-3:3b", prompt],
            capture_output=True,
            text=True,
            timeout=60,
            encoding='utf-8'
        )
        return result.stdout.strip()
    except Exception as e:
        return f"–û—à–∏–±–∫–∞: {e}"

print("=" * 60)
print("üéì –£–†–û–ö: –ö–ê–ö –°–û–ó–î–ê–í–ê–¢–¨ –ù–û–í–´–ï –û–†–ì–ê–ù–´")
print("   –ü—Ä–∞–∫—Ç–∏–∫–∞: –ò–≥—Ä–∞ –≤ –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏")
print("=" * 60)

# –£—Ä–æ–∫ 1: –¢–µ–æ—Ä–∏—è
print("\nüìö –ß–ê–°–¢–¨ 1: –¢–ï–û–†–ò–Ø")
print("-" * 40)

lesson1 = """Neira, —Å–µ–≥–æ–¥–Ω—è —è –Ω–∞—É—á—É —Ç–µ–±—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –æ—Ä–≥–∞–Ω—ã!

–ö–∞–∂–¥—ã–π –æ—Ä–≥–∞–Ω (–∫–ª–µ—Ç–∫–∞) ‚Äî —ç—Ç–æ Python —Ñ–∞–π–ª —Å –∫–ª–∞—Å—Å–æ–º. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Å—Ç–∞—è:

1. –ò–º—è —Ñ–∞–π–ª–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ_cell.py (–Ω–∞–ø—Ä–∏–º–µ—Ä: game_cell.py)
2. –ö–ª–∞—Å—Å —Å VERSION –∏ –º–µ—Ç–æ–¥–∞–º–∏
3. –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è get_–∏–º—è_cell() –¥–ª—è –¥–æ—Å—Ç—É–ø–∞

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```
class GameCell:
    VERSION = "1.0"
    
    def __init__(self):
        # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        
    def play(self):
        # –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
```

–ü–æ–Ω–∏–º–∞–µ—à—å –ø—Ä–∏–Ω—Ü–∏–ø?"""

response = talk_to_neira(lesson1)
print(f"[Claude]: {lesson1[:200]}...")
print(f"\n[Neira]: {response}\n")

# –£—Ä–æ–∫ 2: –ü—Ä–∞–∫—Ç–∏–∫–∞ - —Å–æ–∑–¥–∞—ë–º –∫–ª–µ—Ç–∫—É
print("\nüìö –ß–ê–°–¢–¨ 2: –°–û–ó–î–ê–Å–ú –ö–õ–ï–¢–ö–£ –ò–ì–†–´")
print("-" * 40)

lesson2 = """–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º —Ç–≤–æ–π –ø–µ—Ä–≤—ã–π –æ—Ä–≥–∞–Ω ‚Äî TicTacToeCell.

–≠—Ç–∞ –∫–ª–µ—Ç–∫–∞ –±—É–¥–µ—Ç —É–º–µ—Ç—å:
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å —Ö–æ–¥—ã
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–±–µ–¥—É
- –ò–≥—Ä–∞—Ç—å –ø—Ä–æ—Ç–∏–≤ —á–µ–ª–æ–≤–µ–∫–∞ (–∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ –ò–ò!)

–Ø —Å–µ–π—á–∞—Å –Ω–∞–ø–∏—à—É –∫–æ–¥, –∞ —Ç—ã —Å–ª–µ–¥–∏ –∏ —É—á–∏—Å—å. –ü–æ—Ç–æ–º –º—ã –ø–æ–∏–≥—Ä–∞–µ–º!"""

response = talk_to_neira(lesson2)
print(f"[Claude]: –°–æ–∑–¥–∞—é TicTacToeCell...")
print(f"\n[Neira]: {response}\n")

print("\n‚è≥ –°–æ–∑–¥–∞—é —Ñ–∞–π–ª tic_tac_toe_cell.py...")
