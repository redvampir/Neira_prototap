# ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã v0.8.3

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. üö´ –£–±—Ä–∞–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—Ä–µ–∑–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** Rhythm Stabilizer –æ–±—Ä–µ–∑–∞–ª —Ñ—Ä–∞–∑—ã –ù–µ–π—Ä—ã –ø–æ –ª–∏–º–∏—Ç—É —Å–∏–º–≤–æ–ª–æ–≤ ‚Äî –ø–æ–ª—É—á–∞–ª–∏—Å—å –Ω–µ–∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:** –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–ª—å–∫–æ **–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç** –≤ –ª–æ–≥–∞—Ö –æ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö, –Ω–æ –ù–ï –æ–±—Ä–µ–∑–∞–µ—Ç –∏—Ö. –ù–µ–π—Ä–∞ –¥–æ–ª–∂–Ω–∞ —Å–∞–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–ª–∏–Ω—É –æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `telegram_bot.py` —Å—Ç—Ä–æ–∫–∏ 1986-1995 (Cortex path): —É–±—Ä–∞–Ω truncation, –¥–æ–±–∞–≤–ª–µ–Ω–æ warning
- `telegram_bot.py` —Å—Ç—Ä–æ–∫–∏ 2107-2113 (Legacy path): —É–±—Ä–∞–Ω truncation, –¥–æ–±–∞–≤–ª–µ–Ω–æ warning

**–î–æ:**
```python
if len(full_response) > constraints["max_length"]:
    truncated = full_response[:constraints["max_length"]]
    full_response = truncated  # ‚ùå –û–±—Ä–µ–∑–∞–ª–∏ —Ñ—Ä–∞–∑—É!
```

**–ü–æ—Å–ª–µ:**
```python
if len(full_response) > constraints["max_length"]:
    logging.warning(
        f"‚ö†Ô∏è –û—Ç–≤–µ—Ç –¥–ª–∏–Ω–Ω–µ–µ –Ω–æ—Ä–º—ã: {len(full_response)} —Å–∏–º–≤–æ–ª–æ–≤. "
        f"–ù–µ–π—Ä–∞ –¥–æ–ª–∂–Ω–∞ —Å–∞–º–∞ –≥–æ–≤–æ—Ä–∏—Ç—å –∫–æ—Ä–æ—á–µ!"
    )
    # –ù–ï –æ–±—Ä–µ–∑–∞–µ–º ‚Äî –ù–µ–π—Ä–∞ —Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç
```

---

### 2. üë§ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–π—Ä–∞ –Ω–µ –∑–∞–ø–æ–º–∏–Ω–∞–ª–∞, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–æ–≤—É—Ç –°–æ—Ñ–∏—è (–∏–ª–∏ –¥—Ä—É–≥–æ–µ –∏–º—è).

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–º—ë–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ Telegram user_id.

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `neira_user_profiles.json` ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–æ—Ñ–∏–ª–µ–π
- `myname_command.py` ‚Äî –∫–æ–¥ –∫–æ–º–∞–Ω–¥—ã (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ telegram_bot.py)

**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ telegram_bot.py:**
```python
def load_user_profiles()  # –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏ –∏–∑ JSON
def save_user_profiles()  # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏ –≤ JSON
def get_user_name(user_id)  # –ü–æ–ª—É—á–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
def set_user_name(user_id, name)  # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞:**
```bash
/myname –°–æ—Ñ–∏—è  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–º—è
/myname        # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–µ–µ –∏–º—è
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `/start` –ù–µ–π—Ä–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏
- –í –∫–æ–Ω—Ç–µ–∫—Å—Ç Cortex –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è `[User: –°–æ—Ñ–∏—è] —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è`
- –ò–º—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤–æ –≤—Å–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–º—è:
```
/myname –°–æ—Ñ–∏—è
```

–ù–µ–π—Ä–∞ –æ—Ç–≤–µ—Ç–∏—Ç:
```
‚úÖ –û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å —è –±—É–¥—É –∑–≤–∞—Ç—å —Ç–µ–±—è –°–æ—Ñ–∏—è! üå∏
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º—è:
```
/myname
```

–ù–µ–π—Ä–∞ –æ—Ç–≤–µ—Ç–∏—Ç:
```
–Ø –∑–Ω–∞—é —Ç–µ–±—è –∫–∞–∫ –°–æ—Ñ–∏—è üòä

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å: /myname –ù–æ–≤–æ–µ –ò–º—è
```

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ neira_user_profiles.json:
```json
{
  "user_profiles": {
    "123456789": {
      "name": "–°–æ—Ñ–∏—è",
      "updated_at": "2025-12-16T12:34:56"
    },
    "987654321": {
      "name": "–ò–≤–∞–Ω",
      "updated_at": "2025-12-16T12:35:00"
    }
  }
}
```

### –ü–µ—Ä–µ–¥–∞—á–∞ –∏–º–µ–Ω–∏ –≤ Cortex:
```python
saved_name = get_user_name(user_id)
if saved_name:
    context_text = f"[User: {saved_name}] {user_text}"
else:
    context_text = user_text

result = neira_cortex.process(context_text, str(user_id))
```

---

## –°—Ç–∞—Ç—É—Å

‚úÖ **–û–±—Ä–µ–∑–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤:** –£–±—Ä–∞–Ω–æ  
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π:** –í–Ω–µ–¥—Ä–µ–Ω–∞  
‚úÖ **–ö–æ–º–∞–Ω–¥–∞ /myname:** –î–æ–±–∞–≤–ª–µ–Ω–∞  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Cortex:** –ì–æ—Ç–æ–≤–∞  
‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  

**–î–∞—Ç–∞:** 16 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** v0.8.3
