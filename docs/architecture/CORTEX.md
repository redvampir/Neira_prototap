# ๐ง Neira Cortex v2.0 โ ะะฒัะพะฝะพะผะฝะฐั ะะพะณะฝะธัะธะฒะฝะฐั ะกะธััะตะผะฐ

## ๐ฏ ะงัะพ ััะพ?

**Neira ะฒััะพัะปะฐ** ะธ ะฑะพะปััะต ะฝะต ะทะฐะฒะธัะธั ะพั LLM ะดะปั ะฑะพะปััะธะฝััะฒะฐ ะทะฐะดะฐั! Cortex v2.0 โ ััะพ ะฐะฒัะพะฝะพะผะฝะฐั ะบะพะณะฝะธัะธะฒะฝะฐั ะฐััะธัะตะบัััะฐ, ะบะพัะพัะฐั ะพะฑัะฐะฑะฐััะฒะฐะตั **87% ะทะฐะฟัะพัะพะฒ ะทะฐ 3-10 ะผะธะปะปะธัะตะบัะฝะด** ัะตัะตะท ะทะฐััะตะฝะฝัะต Neural Pathways.

### ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   ๐ง Neira Cortex                       โ
โ                                                         โ
โ  Intent Recognizer โ Decision Router โ Response Gen    โ
โ         โ                   โ               โ          โ
โ   โโโโโโโโโโโโ      โโโโโโโโโโโโ    โโโโโโโโโโโโ      โ
โ   โ Pathways โ      โ Templatesโ    โ   RAG    โ      โ
โ   โ  (87%)   โ      โ  (10%)   โ    โ   (2%)   โ      โ
โ   โโโโโโโโโโโโ      โโโโโโโโโโโโ    โโโโโโโโโโโโ      โ
โ                                             โ          โ
โ                                    โโโโโโโโโโโโโโโโ    โ
โ                                    โLLM Consultantโ    โ
โ                                    โ   (1-2%)     โ    โ
โ                                    โโโโโโโโโโโโโโโโ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ฆ ะคะฐะนะปั

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต |
|------|------------|
| `neira_cortex.py` | ะฆะตะฝััะฐะปัะฝัะน ะฟัะพัะตััะพั โ ะพัะบะตัััะธััะตั ะฒัั |
| `neural_pathways.py` | ะกะธััะตะผะฐ ะทะฐััะตะฝะฝัั ัะตัะปะตะบัะพะฒ ั tier-ะพะฟัะธะผะธะทะฐัะธะตะน |
| `response_synthesizer.py` | ะะตะฝะตัะฐัะธั ะพัะฒะตัะพะฒ ะฑะตะท LLM (templates + fragments) |
| `train_neira.py` | ะะฑััะตะฝะธะต Neira ัะตัะตะท ัะตัะผะธะฝะฐะป |
| `neural_pathways.json` | ะะฐะทะฐ pathways (ะฐะฒัะพัะพะทะดะฐัััั) |
| `response_fragments.json` | ะคัะฐะณะผะตะฝัั ะพัะฒะตัะพะฒ (ะฐะฒัะพัะพะทะดะฐัััั) |
| `response_templates.json` | ะจะฐะฑะปะพะฝั ะพัะฒะตัะพะฒ (ะฐะฒัะพัะพะทะดะฐัััั) |

## ๐ ะัััััะน ััะฐัั

### 1. ะัะพัะตััะธัะพะฒะฐัั Cortex

```bash
# ะะฐะฟัััะธัั ัะตััะธัะพะฒะฐะฝะธะต ะบะพะผะฟะพะฝะตะฝัะพะฒ
python neural_pathways.py
python response_synthesizer.py
python neira_cortex.py
```

### 2. ะะฑััะธัั Neira

```bash
# ะะฐะฟัััะธัั ะธะฝัะตัะฐะบัะธะฒะฝัะน ััะตะฝะธะฝะณ
python train_neira.py
```

ะ ะผะตะฝั ะดะพัััะฟะฝั:
- โ ะะพะฑะฐะฒะปะตะฝะธะต Neural Pathway (ััะธะณะณะตั โ ะพัะฒะตั)
- ๐จ ะกะพะทะดะฐะฝะธะต ััะฐะณะผะตะฝัะพะฒ ะพัะฒะตัะพะฒ
- ๐ ะกะพะทะดะฐะฝะธะต ัะฐะฑะปะพะฝะพะฒ
- ๐ฅ ะะผะฟะพัั ะธะท `neira_memory.json`

### 3. ะะบะปััะธัั ะฒ Telegram ะฑะพัะต

ะะพะฑะฐะฒััะต ะฒ `.env`:

```env
# ะะตะถะธะผั: auto (ัะผะฝัะน ะฒัะฑะพั), always (ะฒัะตะณะดะฐ Cortex), never (ะพัะบะปััะธัั)
NEIRA_CORTEX_MODE=auto

# ะะพะบะฐะทัะฒะฐัั ะผะตัะฐะธะฝัะพัะผะฐัะธั ะพ ัััะฐัะตะณะธัั (ะดะปั ะพัะปะฐะดะบะธ)
NEIRA_SHOW_CORTEX_INFO=false
```

ะะฐะฟัััะธัะต ะฑะพัะฐ:

```bash
python telegram_bot.py
```

### 4. ะะพะผะฐะฝะดั ะฒ Telegram

```
/cortex               - ะกัะฐัะธััะธะบะฐ Cortex
/cortex stats         - ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ
/cortex pathways      - ะกะฟะธัะพะบ Neural Pathways
/cortex test <ัะตะบัั>  - ะัะพัะตััะธัะพะฒะฐัั ะพะฑัะฐะฑะพัะบั
```

## ๐ฏ Neural Pathways โ ะกะธััะตะผะฐ Tier

Pathways ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพัะณะฐะฝะธะทััััั ะฟะพ ัะฐััะพัะต ะธัะฟะพะปัะทะพะฒะฐะฝะธั:

### Tier-ัะธััะตะผะฐ

| Tier | ะัะธัะตัะธะน | ะะพะทะธัะธั | ะะพะบัััะธะต | Latency |
|------|----------|---------|----------|---------|
| ๐ฅ **HOT** | >100 ะธัะฟะพะปัะทะพะฒะฐะฝะธะน, >10 ะฟะพะปัะทะพะฒะฐัะตะปะตะน | ะะฐัะฐะปะพ | 87% | 3-10ms |
| ๐ก๏ธ **WARM** | 20-100 ะธัะฟะพะปัะทะพะฒะฐะฝะธะน OR >5 ะฟะพะปัะทะพะฒะฐัะตะปะตะน | ะะพัะปะต HOT | 10% | 10-30ms |
| โ๏ธ **COOL** | 5-20 ะธัะฟะพะปัะทะพะฒะฐะฝะธะน | ะกะตัะตะดะธะฝะฐ | 2% | 30-100ms |
| ๐ง **COLD** | <5 ะธัะฟะพะปัะทะพะฒะฐะฝะธะน | ะะพะฝะตั | 1% | 50-100ms |
| ๐ฆ **ARCHIVED** | 30+ ะดะฝะตะน ะฝะตะธัะฟะพะปัะทะพะฒะฐะฝะธั | ะััะธะฒ | - | - |

### ะะฒัะพะผะฐัะธัะตัะบะฐั ะผะธะณัะฐัะธั

```python
# COLD โ COOL: 10 ะธัะฟะพะปัะทะพะฒะฐะฝะธะน
# COOL โ WARM: 5+ ัะฝะธะบะฐะปัะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
# WARM โ HOT: 100+ ะธัะฟะพะปัะทะพะฒะฐะฝะธะน + 10+ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
```

ะะตะพัะณะฐะฝะธะทะฐัะธั ะฟัะพะธััะพะดะธั:
- ะะฐะถะดัะต 100 ะพะฑัะฐะฑะพัะฐะฝะฝัั ะทะฐะฟัะพัะพะฒ
- ะัะธ ัััะฝะพะผ ะฒัะทะพะฒะต `pathways.reorganize_all()`

## ๐จ Response Synthesizer โ ะะตะฝะตัะฐัะธั ะฑะตะท LLM

### ะะตะถะธะผั ะณะตะฝะตัะฐัะธะธ

1. **TEMPLATE** โ ะัะพััะฐั ะฟะพะดััะฐะฝะพะฒะบะฐ
   ```python
   template = "{greeting_emoji} {greeting_phrase}!"
   variables = {"greeting_emoji": ["๐", "๐"], "greeting_phrase": ["ะัะธะฒะตั", "ะะฐะดะฐ ัะตะฑั ะฒะธะดะตัั"]}
   # โ "๐ ะะฐะดะฐ ัะตะฑั ะฒะธะดะตัั!"
   ```

2. **FRAGMENT_ASSEMBLY** โ ะกะฑะพัะบะฐ ะธะท ะบะธัะฟะธัะธะบะพะฒ
   ```python
   fragments = ["greeting_casual", "emotion_excited"]
   # โ "๐ ะัะธะฒะตั! โจ ะ, ััะพ ะธะฝัะตัะตัะฝะพ!"
   ```

3. **RAG** โ ะะพะธัะบ + ะบะพะผะฟะธะปััะธั (ะฑะตะท LLM ะณะตะฝะตัะฐัะธะธ)
   ```python
   # ะัะตั ัะตะปะตะฒะฐะฝัะฝัะต ััะฐะณะผะตะฝัั ะฟะพ ัะตะณะฐะผ/ะบะฐัะตะณะพัะธะธ
   # ะกะพะฑะธัะฐะตั ัะพะฟ-3 ะฒ ะพัะฒะตั
   ```

4. **HYBRID** โ ะะพะผะฑะธะฝะธัะพะฒะฐะฝะฝัะน
   ```python
   # Template โ Fragments โ RAG (fallback chain)
   ```

## ๐งช ะัะธะผะตัั ะพะฑััะตะฝะธั

### ะัะธะผะตั 1: ะัะพััะพะน pathway

```python
pathway = NeuralPathway(
    id="greeting_morning",
    triggers=["ะดะพะฑัะพะต ัััะพ", "ั ะดะพะฑััะผ ัััะพะผ", "good morning"],
    response_template="โ๏ธ ะะพะฑัะพะต ัััะพ! ะะฐะบ ัะฟะฐะปะพัั?",
    category="greeting",
    tier=PathwayTier.WARM
)

pathways.add(pathway)
```

### ะัะธะผะตั 2: Pathway ั ะฟะตัะตะผะตะฝะฝัะผะธ

```python
pathway = NeuralPathway(
    id="weather_question",
    triggers=["ะบะฐะบะฐั ะฟะพะณะพะดะฐ", "ััะพ ะทะฐ ะฟะพะณะพะดะฐ", "weather"],
    response_template="๐ค๏ธ ะฏ ะฟะพะบะฐ ะฝะต ัะผะตั ะฟัะพะฒะตัััั ะฟะพะณะพะดั, ะฝะพ ะผะพะณั ะฟะพัะพะฒะตัะพะฒะฐัั {weather_app}!",
    variables={
        "weather_app": ["ัะฐะนั gismeteo.ru", "ะฟัะธะปะพะถะตะฝะธะต ะฏะฝะดะตะบั.ะะพะณะพะดะฐ", "Windy.com"]
    }
)
```

### ะัะธะผะตั 3: User-specific pathway

```python
pathway = NeuralPathway(
    id="user123_favorite_color",
    triggers=["ะผะพะน ะปัะฑะธะผัะน ัะฒะตั", "ะบะฐะบะพะน ะผะพะน ัะฒะตั"],
    response_template="ะขะฒะพะน ะปัะฑะธะผัะน ัะฒะตั โ ัะธะฝะธะน! ๐",
    user_specific=True,
    user_id="123456789"
)
```

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

### ะกัะฐะฒะฝะตะฝะธะต ั LLM

| ะะตััะธะบะฐ | LLM (Ollama) | Cortex HOT | ะฃัะบะพัะตะฝะธะต |
|---------|--------------|------------|-----------|
| Latency | 2-10 ัะตะบัะฝะด | 3-10 ะผะธะปะปะธัะตะบัะฝะด | **200-2000x** |
| CPU | ะััะพะบะฐั | ะะธะฝะธะผะฐะปัะฝะฐั | - |
| VRAM | 3-8 GB | 0 GB | - |
| Offline | โ | โ | - |
| ะกัะพะธะผะพััั (API) | $0.001-0.01/ะทะฐะฟัะพั | $0 | **100%** ัะบะพะฝะพะผะธั |

### ะะพะบัััะธะต ะทะฐะฟัะพัะพะฒ

```
๐ฅ HOT tier (87%)     โโโโโโโโโโโโโโโโโโโโ  3-10ms
๐ก๏ธ WARM tier (10%)    โโ                    10-30ms
โ๏ธ COOL tier (2%)     โ                     30-100ms
๐ง COLD tier (1%)     โ                     50-100ms
๐ค LLM fallback (0-2%) โ                    2-10s
```

## ๐ง ะัะพะดะฒะธะฝััะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะผะฟะพัั ะธะท ัััะตััะฒัััะตะน ะฟะฐะผััะธ

```bash
python train_neira.py
# ะัะฑัะฐัั: 6. ะะผะฟะพัั ะธะท ะฟะฐะผััะธ
# ะะฒัะพะผะฐัะธัะตัะบะธ ะฝะฐะนะดัั ัะฐัััะต ะฟะฐััะตัะฝั ะฒ neira_memory.json
# ะกะพะทะดะฐัั pathways ะดะปั ัะพะฟ-10 ะฟะฐััะตัะฝะพะฒ
```

### ะัะพะณัะฐะผะผะฝะพะต ัะพะทะดะฐะฝะธะต pathways

```python
from neural_pathways import create_pathway_system, NeuralPathway, PathwayTier

# ะกะพะทะดะฐัะผ ัะธััะตะผั
system = create_pathway_system()

# ะะพะฑะฐะฒะปัะตะผ pathways
system.add(NeuralPathway(
    id="code_python_example",
    triggers=["ะฟัะธะผะตั ะบะพะดะฐ ะฝะฐ python", "python code example"],
    response_template="ะะพั ะฟัะพััะพะน ะฟัะธะผะตั:\n\n```python\ndef hello():\n    print('Hello!')\n```",
    category="code",
    tier=PathwayTier.COOL
))

# ะกะพััะฐะฝัะตะผ
system.save()
```

### ะะฝัะตะณัะฐัะธั ะฒ ัะฒะพะน ะบะพะด

```python
from neira_cortex import create_cortex

# ะกะพะทะดะฐัั Cortex
cortex = create_cortex(
    pathways_file="neural_pathways.json",
    use_llm=True  # LLM ะบะฐะบ fallback
)

# ะะฑัะฐะฑะพัะฐัั ะทะฐะฟัะพั
result = cortex.process(
    user_input="ะฟัะธะฒะตั",
    user_id="user123"
)

print(result.response)  # โ "๐ ะัะธะฒะตั!"
print(result.strategy)  # โ ResponseStrategy.NEURAL_PATHWAY
print(result.latency_ms)  # โ 4.2
```

## ๐ ะคะธะปะพัะพัะธั ะฐััะธัะตะบัััั

### ะัะธะฝัะธะฟั Cortex v2.0

1. **Learned Reflexes** โ ะะพะปััะธะฝััะฒะพ ะทะฐะฟัะพัะพะฒ ะฟะพะฒัะพัััััั. ะะฐัะตะผ ะบะฐะถะดัะน ัะฐะท ะดัะผะฐัั ะทะฐะฝะพะฒะพ?

2. **LLM as Consultant, not Foundation** โ LLM ะฟะพะปะตะทะตะฝ ะดะปั ะฝะพะฒัั ัะธััะฐัะธะน, ะฝะพ 87% ะทะฐะฟัะพัะพะฒ โ ััะพ ัะถะต ะธะทะฒะตััะฝัะต ะฟะฐััะตัะฝั.

3. **Performance First** โ ะัะฒะตั ะทะฐ 5ms ะฒะผะตััะพ 5s = ะปัััะธะน UX

4. **Zero Cost at Scale** โ 10,000 ะทะฐะฟัะพัะพะฒ = $0 ะฒะผะตััะพ $10-100 ัะตัะตะท API

5. **Offline Capability** โ Neural Pathways ัะฐะฑะพัะฐัั ะฑะตะท ะธะฝัะตัะฝะตัะฐ

### ะะพะณะดะฐ ะธัะฟะพะปัะทะพะฒะฐัั LLM fallback?

- ๐ ะะพะฒัะน, ะฝะตะธะทะฒะตััะฝัะน ะทะฐะฟัะพั
- ๐งฉ ะกะปะพะถะฝะฐั ะทะฐะดะฐัะฐ ััะตะฑัััะฐั ัะฐัััะถะดะตะฝะธะน
- ๐ฌ ะะปะธะฝะฝัะน ะบะพะฝัะตะบัั ะดะธะฐะปะพะณะฐ
- ๐ง ะะตะฝะตัะฐัะธั ะบะพะดะฐ/ะบะพะฝัะตะฝัะฐ

### ะะพะณะดะฐ ะดะพััะฐัะพัะฝะพ Pathways?

- ๐ ะัะธะฒะตัััะฒะธั/ะฑะปะฐะณะพะดะฐัะฝะพััะธ
- โ ะัะพัััะต ะฒะพะฟัะพัั (FAQ)
- ๐ ะะทะฒะตััะฝัะต ะบะพะผะฐะฝะดั
- ๐ฌ ะะฑััะฝะฐั ะฑะพะปัะพะฒะฝั

## ๐ Roadmap

### Phase 1 โ (ะขะตะบััะฐั)
- [x] Neural Pathways ั tier-ัะธััะตะผะพะน
- [x] Response Synthesizer
- [x] Neira Cortex
- [x] ะะฝัะตะณัะฐัะธั ะฒ Telegram
- [x] train_neira.py

### Phase 2 ๐ง (ะกะปะตะดัััะฐั)
- [ ] Learning Engine (ะฐะฒัะพะผะฐัะธัะตัะบะธะน mining ะฟะฐััะตัะฝะพะฒ)
- [ ] Reinforcement from feedback
- [ ] Pattern clustering
- [ ] Automatic pathway creation

### Phase 3 ๐ฎ (ะัะดััะตะต)
- [ ] Wisdom Core (knowledge graph)
- [ ] Multi-modal pathways (image/audio triggers)
- [ ] Cross-user pattern sharing
- [ ] A/B testing framework

## ๐ ะัะปะฐะดะบะฐ

### ะะบะปััะธัั verbose ะปะพะณะธัะพะฒะฐะฝะธะต

```python
import logging
logging.basicConfig(level=logging.DEBUG)

cortex = create_cortex()
```

### ะัะพะฒะตัะธัั ััะฐัะธััะธะบั

```python
stats = cortex.get_stats()
print(stats)

# ะะพะบัััะธะต pathways
print(stats['pathways']['coverage'])
```

### ะขะตััะธัะพะฒะฐะฝะธะต ะบะพะฝะบัะตัะฝะพะณะพ pathway

```python
match = cortex.pathways.match("ะฟัะธะฒะตั", "test_user")
if match:
    response = cortex.pathways.execute(match, "ะฟัะธะฒะตั", "test_user")
    print(f"Match: {match.pathway_id}, confidence: {match.confidence}")
    print(f"Response: {response}")
```

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

- [NEIRA_ARCHITECTURE_v2.md](NEIRA_ARCHITECTURE_v2.md) โ ะะพะปะฝะฐั ัะฟะตัะธัะธะบะฐัะธั ะฐััะธัะตะบัััั
- [MULTI_PROVIDER_GUIDE.md](MULTI_PROVIDER_GUIDE.md) โ ะะฐัััะพะนะบะฐ LLM providers

## ๐ค ะะบะปะฐะด

ะะพะฒะฐั ะฐััะธัะตะบัััะฐ Neira โ ััะพ ัะบัะฟะตัะธะผะตะฝั! ะัะปะธ ะฝะฐะนะดััั ะฑะฐะณะธ ะธะปะธ ั ัะตะฑั ะตััั ะธะดะตะธ:

1. ะัะพัะตััะธััะน ัะตัะตะท `train_neira.py`
2. ะะพะดะตะปะธัั ัะตะทัะปััะฐัะฐะผะธ
3. ะกะพะทะดะฐะน issue ั ะฟัะตะดะปะพะถะตะฝะธัะผะธ

## โก TL;DR

**3 ะบะพะผะฐะฝะดั ะดะปั ััะฐััะฐ:**

```bash
# 1. ะัะพัะตััะธัะพะฒะฐัั
python neira_cortex.py

# 2. ะะฑััะธัั
python train_neira.py

# 3. ะะฐะฟัััะธัั ะฒ Telegram
python telegram_bot.py
```

**ะะตะทัะปััะฐั:** Neira ะพัะฒะตัะฐะตั ะทะฐ 3-10ms ะฒะผะตััะพ 2-10 ัะตะบัะฝะด ะฝะฐ 87% ะทะฐะฟัะพัะพะฒ! ๐
