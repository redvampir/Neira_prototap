# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Copilot –ø–æ –ø—Ä–æ–µ–∫—Ç—É Neira

> **–í–ê–ñ–ù–û:** –ü–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π –ø—Ä–æ—á–∏—Ç–∞–π [AGENTS.md](AGENTS.md) ‚Äî —Ç–∞–º –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞.

## üö´ –°–¢–û–ü-–ü–†–ê–í–ò–õ–ê

```
‚ùå –ù–µ —Å–æ–∑–¥–∞–≤–∞–π —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π neira/, scripts/, tests/
‚ùå –ù–µ —Å–æ–∑–¥–∞–≤–∞–π —Ñ–∞–π–ª –µ—Å–ª–∏ –ø–æ—Ö–æ–∂–∏–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∏—â–∏
‚ùå –ù–µ –ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏ > 60 —Å—Ç—Ä–æ–∫ ‚Üí —Ä–∞–∑–±–∏–≤–∞–π —Å—Ä–∞–∑—É
‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π bare except ‚Üí —É–∫–∞–∑—ã–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚ùå –ù–µ —Ö–∞—Ä–¥–∫–æ–¥—å —á–∏—Å–ª–∞ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π neira/config.py
```

## ‚úÖ –ö—É–¥–∞ –∫–ª–∞—Å—Ç—å –∫–æ–¥

| –¢–∏–ø | –ü—É—Ç—å |
|-----|------|
| –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ | `neira/core/`, `neira/brain/`, `neira/organs/` |
| –£—Ç–∏–ª–∏—Ç—ã | `neira/utils/` |
| –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã | `neira/config.py` |
| CLI —Å–∫—Ä–∏–ø—Ç—ã | `scripts/` |
| –¢–µ—Å—Ç—ã | `tests/unit/` –∏–ª–∏ `tests/integration/` |

## üìã –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

```bash
python scripts/validate_code.py —Ñ–∞–π–ª.py  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
python -m pytest tests/test_basic.py -x  # –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
```

## üêç –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞

```python
# Type hints –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
def process(text: str, max_len: int = 100) -> str:
    """–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ. Args/Returns/Raises –≤ docstring."""
    
# –ò–º–ø–æ—Ä—Ç—ã –∏–∑ neira/config.py
from neira.config import MEMORY_MAX_LONG_TERM, LLM_DEFAULT_TIMEOUT

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
except (ValueError, KeyError) as e:
    logger.warning(f"–û–ø–∏—Å–∞–Ω–∏–µ: {e}")
```

## –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∞
- –ü–∏—à–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º: –∏–º–µ–Ω–∞ –∫–æ–º–º–∏—Ç–æ–≤, –Ω–∞–∑–≤–∞–Ω–∏—è –∑–∞–¥–∞—á –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.
- –ù–µ –æ–±–æ—Ä–∞—á–∏–≤–∞–π –∏–º–ø–æ—Ä—Ç—ã –≤ try/except ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `importlib.util.find_spec` –∏ —è–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–æ–∫ (`reason_code`, `reason_detail`) –≤ `CellResult.metadata` –∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö.
- –î–ª—è –º–æ–¥–µ–ª–µ–π LLM –≤—ã–±–∏—Ä–∞–π `MODEL_CHAT` (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏–ª–∏ `MODEL_REASON` –∏–∑ `cells` ‚Äî –±–µ–∑ –∂—ë—Å—Ç–∫–∏—Ö —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç.
- –î–µ—Ä–∂–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º–∏: –Ω–µ –±–æ–ª–µ–µ 60 —Å—Ç—Ä–æ–∫, –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –¥–æ 3 —É—Ä–æ–≤–Ω–µ–π.

## –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å Copilot
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—é –æ–±—ë—Ä—Ç–æ–∫ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ —Ñ–æ–ª–ª–±—ç–∫–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ unit-—Ç–µ—Å—Ç–æ–≤ –¥–ª—è `web_cell.py` –∏ —Å–æ—Å–µ–¥–Ω–∏—Ö –º–æ–¥—É–ª–µ–π.
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –≤–µ–∑–¥–µ –±—ã–ª–∏ `reason_code`/`reason_detail`.
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫—É —à–∞–±–ª–æ–Ω–æ–≤ CLI-–ø—Ä–∏–º–µ—Ä–æ–≤ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

## –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
- –õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ–≥–æ–Ω—è–π `python scripts/validate_code.py --staged`.
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ web-–∫–ª–µ—Ç–∫–∞—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏ `python web_cell.py` –∏ —É–±–µ–¥–∏—Å—å, —á—Ç–æ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ –±–µ–∑ DuckDuckGo.

## –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø—Ä–æ–º–ø—Ç–æ–≤ Copilot
- ¬´–û–±–Ω–æ–≤–∏ web_cell.py, —Å–æ—Ö—Ä–∞–Ω—è—è –º–µ—Ö–∞–Ω–∏–∑–º safe import —á–µ—Ä–µ–∑ importlib –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É reason_code/reason_detail.¬ª
- ¬´–î–æ–±–∞–≤—å —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª—è –±–µ–∑ duckduckgo-search –∏ requests, –∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–Ω–æ–π –æ—à–∏–±–∫–∏.¬ª
- ¬´–°—Ñ–æ—Ä–º–∏—Ä—É–π CellResult —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º metadata (query/topic, sources, reason_code).¬ª
- ¬´–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –≥–ª–æ–±–∞–ª—å–Ω—ã–µ try/except –Ω–∞ –∏–º–ø–æ—Ä—Ç—ã, –∑–∞–º–µ–Ω–∏ –Ω–∞ find_spec + —è–≤–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π.¬ª
