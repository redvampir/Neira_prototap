# GitHub Copilot Instructions ‚Äî Neira Project

> **–ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è.** –ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞: [AGENTS.md](../AGENTS.md)

---

## üß† –û –ü–†–û–ï–ö–¢–ï

**Neira** ‚Äî AI —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π "–∂–∏–≤–æ–≥–æ –º–æ–∑–≥–∞":
- **Cells** ‚Äî –µ–¥–∏–Ω–∏—Ü—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–Ω–µ–π—Ä–æ–Ω—ã)
- **Organs** ‚Äî –≥—Ä—É–ø–ø—ã –∫–ª–µ—Ç–æ–∫ –¥–ª—è –∑–∞–¥–∞—á
- **Cortex** ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º—ã

```python
# –ö–ª—é—á–µ–≤–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω:
class MyCell(Cell):
    async def process(self, input: CellInput) -> CellResult:
        return CellResult(success=True, data="...")
```

---

## üö´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
```
‚ùå –ù–ò–ö–û–ì–î–ê: .py —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
‚úÖ –í–°–ï–ì–î–ê: neira/, scripts/, tests/
```

| –¢–∏–ø | –ü—É—Ç—å |
|-----|------|
| –ö–ª–µ—Ç–∫–∏/–õ–æ–≥–∏–∫–∞ | `neira/core/`, `neira/brain/` |
| –û—Ä–≥–∞–Ω—ã | `neira/organs/` |
| –£—Ç–∏–ª–∏—Ç—ã | `neira/utils/` |
| –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã | `neira/config.py` |
| CLI | `scripts/` |
| –¢–µ—Å—Ç—ã | `tests/` |

### –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞
```
‚ùå –ù–ò–ö–û–ì–î–ê: —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã
‚úÖ –í–°–ï–ì–î–ê: grep_search("class –ò–º—è") –∏–ª–∏ file_search("*–∏–º—è*")
```

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
```
‚ùå –ù–ò–ö–û–ì–î–ê: bare except:, except Exception: –±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚ùå –ù–ò–ö–û–ì–î–ê: —Ñ—É–Ω–∫—Ü–∏–∏ > 60 —Å—Ç—Ä–æ–∫, –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å > 3
‚ùå –ù–ò–ö–û–ì–î–ê: magic numbers (–∏—Å–ø–æ–ª—å–∑—É–π neira/config.py)
```

---

## ‚úÖ –ü–ê–¢–¢–ï–†–ù–´ –ö–û–î–ê

```python
# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
except (ValueError, KeyError) as e:
    logger.warning(f"–û–ø–∏—Å–∞–Ω–∏–µ: {e}")
    return CellResult(
        success=False, 
        error=str(e),
        metadata={"reason_code": "ERROR_TYPE", "reason_detail": str(e)}
    )

# –ò–º–ø–æ—Ä—Ç—ã
from neira.config import MEMORY_MAX_LONG_TERM
from neira.core.cell import Cell, CellResult

# Type hints
def process(text: str, max_len: int = 100) -> CellResult:
    """–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ."""
```

---

## üìã –ß–ï–ö-–õ–ò–°–¢

1. ‚úÖ –§–∞–π–ª –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ (–Ω–µ –∫–æ—Ä–µ–Ω—å)?
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã?
3. ‚úÖ –í—Å–µ except –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ?
4. ‚úÖ –§—É–Ω–∫—Ü–∏–∏ < 60 —Å—Ç—Ä–æ–∫?
5. ‚úÖ Magic numbers –≤ config.py?
6. ‚úÖ reason_code –≤ metadata –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö?

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

```python
# ‚ùå –ù–ò–ö–û–ì–î–ê:
exec(user_input)
eval(user_input)
subprocess.run(f"cmd {user_input}", shell=True)

# ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û:
subprocess.run(["cmd", sanitized_arg], shell=False)
```

---

## üìÅ –ö–õ–Æ–ß–ï–í–´–ï –§–ê–ô–õ–´

| –§–∞–π–ª | –†–æ–ª—å |
|------|------|
| `neira.py` | CLI —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ |
| `neira_server.py` | Telegram –±–æ—Ç + API |
| `neira/config.py` | –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã |
| `neira/core/cell.py` | –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å Cell |
| `cells.py` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–µ—Ç–æ–∫ |

---

## üìù –Ø–ó–´–ö

- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã: English
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏/docstrings: –†—É—Å—Å–∫–∏–π
- –õ–æ–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: –†—É—Å—Å–∫–∏–π
